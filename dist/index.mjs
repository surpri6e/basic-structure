import n from"node:path";import t from"node:fs/promises";import l from"prompts";import m from"chalk";import{fileURLToPath as f}from"node:url";const g=[{type:"text",name:"folder",message:"Enter a path of project"},{type:"text",name:"name",message:"Enter a name of your project"}];async function p(){const o=await l(g);return{folder:o.folder,name:o.name}}const c=async(o,i)=>{const e=await t.readdir(o);for(const r of e){const a=n.join(o,r),s=n.join(i,r);(await t.lstat(a)).isDirectory()?(await t.mkdir(s),await c(a,s)):await t.copyFile(a,s)}},w=async(o,i)=>{const e=n.join(o,"package.json");try{const r=await t.readFile(e,"utf8"),a=JSON.parse(r);a.name=i,await t.writeFile(e,JSON.stringify(a,null,4),"utf8")}catch(r){if(typeof r=="string")throw new Error(r)}};(async()=>{try{const{folder:o,name:i}=await p(),e=n.join(process.cwd(),o),r=n.resolve(f(import.meta.url),"..","..","example");await t.mkdir(e,{recursive:!0}),await c(r,e),await w(e,i),t.rename(n.join(e,"_env"),n.join(e,".env")),t.rename(n.join(e,"_gitignore"),n.join(e,".gitignore")),t.rename(n.join(e,"_npmignore"),n.join(e,".npmignore")),console.log(m.green("Success all")),console.log(m.green("Enter command - npm install"))}catch(o){typeof o=="string"&&console.log(o),console.log(m.red("Something went wrong!"))}})();
